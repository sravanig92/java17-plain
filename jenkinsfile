node('jdk17-mvn3.9.1') {
   propertis([parameters([choice(choices: ['scripted', 'master', 'declarative'], description: 'branch to be built', name: 'BRANCH_TO_BUILD')])])
    stage('git') {
    git url: 'https://github.com/GitPracticeRepo/java11-examples.git', branch: "${params.BRANCH_TO_BUILD}"
    stage('build') {
        sh'''
        echo "PATH=${PATH}"
        echo "M2_HOME=${M2_HOME}"


        '''
        sh '/usr/local/apache-maven-3.9.1/bin/mvn clean package'
     }
     stage('archive') {
        archive 'target/*.jar'
     }
}
}